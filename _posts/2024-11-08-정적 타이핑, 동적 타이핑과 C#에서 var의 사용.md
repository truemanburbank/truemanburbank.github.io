---
title: 정적 타이핑, 동적 타이핑과 C#에서 var의 사용
date: 2024-11-08
categories: [문법, C#]
tags: [var]
---
# 정적 타입 언어 (Statically typed language)

컴파일 시 변수 타입이 결정되는 언어로, C, C#, C++, JAVA 등이 있다.

변수에 들어갈 값의 형태에 따라 자료형을 지정해 주어야 하며, 컴파일 시 자료형에 맞지 않은 값이 들어가 있으면 컴파일 에러가 발생한다. 

### 장점

- 타입 에러로 인한 문제점을 초기에 발견할 수 있어 타입 관련한 런타임 오류를 방지할 수 있고 타입의 안정성이 높다.
- 컴파일 시 미리 타입을 결정하기 때문에 실행 속도가 빠르다.
- 코드의 가독성이 좋아 다수의 협업이나 프로젝트를 할 때 유지보수에 유리하다.

### 단점

- 코드를 작성할 때 매번 타입을 결정해 주는 것이 번거롭다.

# 동적 타입 언어 (Dynamically typed languages)

런타임 시 변수의 타입이 결정되는 언어로, JavaScript, Ruby, Python 등의 언어가 있다. 이 언어들은 컴파일 시 자료형을 정하는 것이 아니고 실행 시점에 결정된다.

### 장점

- 코드 실행 시 자동적으로 변수의 타입을 판단하여 지정해 준다.
- 타입을 매번 지정하지 않아도 되기 때문에 작성자가 보다 빠르게 코드를 작성할 수 있다.

### 단점

- 실행 도중 변수에 예상치 못한 자료형이 들어와 타입 에러를 발생시킬 수 있다.
- 타입 관련 에러는 런타임 시 확인 가능하기 때문에 코드가 길고 복잡해질 경우엔 타입 에러를 찾기 어려워진다.

# var

지역 변수에 대한 타입 추론이 C#의 특성인 정적 타이핑을 훼손하는 것은 아니다. C#에서 특정 변수를 var로 선언하면 동적 타이핑이 수행되는 것이 아니라 할당 연산자 오른쪽의 타입을 확인하여 왼쪽의 변수 타입을 결정하게 된다. 컴파일러가 올바른 타입을 추론해 주는 것이다.

하지만 var를 과도하게 사용하면 코드의 가독성을 해칠 수 있고, 내부적으로 이루어지는 자동 타입 변환 과정으로 인해 발견하기 어려운 버그를 만들 수 있다.

### 가독성을 해치는 예

```csharp
// var를 사용하면서 변수명을 모호하게 짓는 경우
var result = someObject.DoSomeWork(anotherParameter);

// 내장 숫자 타입과 var를 함께 사용하는 경우
// 가독성은 물론이고 정밀도와 관련된 혼돈스러운 문제를 유발할 수 있다.
var f = GetMagicNumber();
var total = 100 * f / 6;
```

### 하지만…

1. 이름에 변수의 타입이 명확하게 드러나는 경우
2. 코드를 읽을 때 타입을 명시적으로 드러내지 않아도 되는 경우

에는 var를 사용하는 것이 좋다. 

물론 항상 그렇게 하라는 것은 아니고 더 나을 수 있다 정도이다!
