---
title: 네트워크 기본
date: 2024-11-02
categories: [CS, 네트워크]
tags: [네트워크]
---
# 네트워킹

IT 자원 간 연결하여 통신하는 환경을 의미한다.

## 네트워킹 요소

IT 자원들이 통신할 때는 다양한 네트워킹 요소 간에 복잡한 환경을 거친다. 이런 복잡한 과정을 좀 더 쉽게 이해할 수 있도록 계층별로 분류하는 모델이 여러 개 있는데 그 중 대표적인 모델은 ISO에서 개발한 OSI 7계층 모델이다.

### OSI 7계층

![image](https://github.com/user-attachments/assets/d94c4507-9b9f-40cc-b94c-fa8a55531798)

- 1계층 - 물리 계층
    - 네트워크 하드웨어 전송 기술을 이루는 계층으로 물리적으로 연결된 매체가 서로 데이터를 송수신할 수 있게 연결하고 유지하는 역할을 한다.
- 2계층 - 데이터링크 계층
    - 물리 계층에서 송수신되는 정보의 오류와 흐름을 제어한다.
- 3계층 - 네트워크 계층
    - 데이터를 목적지까지 전달하는 계층으로, 최적의 통신 경로를 찾는다.
- 4계층 - 전송 계층
    - 종단의 대상 간에 데이터 전송을 다루는 계층으로, 데이터 전송의 유효성과 효율성을 보장한다.
- 5계층 - 세션 계층
    - 종단의 대상 간 응용 프로세스 통신을 관리하는 방법으로, 데이터 통신을 위한 논리적인 연결을 담당한다.
- 6계층 - 표현 계층
    - 데이터 형식에 차이가 있을 때 데이터를 서로 이해할 수 있는 형태로 변환하는 역할을 한다.
- 7계층 - 응용 계층
    - 응용 프로세스와 직접 연계하여 실제 응용 프로그램을 서비스하는 역할을 한다.

<aside>
💡

**세션의 의미**

**세션**(session)은 컴퓨터 과학에서, 특히 네트워크 분야에서 반영구적이고 상호작용적인 정보 교환을 전제하는 둘 이상의 통신 장치나 컴퓨터와 사용자 간의 대화나 송수신 연결상태를 의미하는 보안적인 다이얼로그(dialogue) 및 시간대를 가리킨다.

</aside>

## IP 주소와 서브넷

### IP 주소

ip 주소는 인터넷 상에서 IT 자원을 식별하는 고유한 주소이다. IPv4, IPv6 두 가지가 있으며 일반적으로 IPv4를 더 많이 사용한다.

IPv4는 가용 범위가 부족하고 효율성이 떨어진다는 단점이 있다. 이를 개선하고자 가용 범위가 큰 IPv6을 개발하여 점차 활용하는 추세지만, 여전히 IPv4를 더 많이 사용한다. IPv4의 가용 범위가 부족한 것을 보완하고자 여러 네트워킹 기법(NAT, 서브넷팅, 프라이빗 IP 등)을 활용하고 있다.

### 퍼블릭 IP 주소와 프라이빗 IP 주소

- 퍼블릭 IP 주소
    - 실제 인터넷에서 사용하려고 인터넷 서비스 공급자(ISP)에서 제공하는 유일한 공인 IP 주소이다.
- 프라이빗 IP 주소
    - 인터넷이 아닌 독립된 네트워크 내부에서만 사용하려고 네트워크 관리자가 제공하는 사설 IP 주소이다.

<aside>
💡

프라이빗 IP 주소는 세 가지 클래스로 범위가 정해져 있다.

- 클래스 A
    - 10.0.0.0 ~ 10.255.255.255
- 클래스 B
    - 172.16.0.0 ~ 172.31.255.255
- 클래스 C
    - 192.168.0.0 ~ 192.168.255.255
</aside>

### 고정 IP 주소와 유동 IP 주소

IP 주소는 할당하는 방식에 따라 고정 IP 주소와 유동 IP 주소로 분류된다. 

고정 IP 주소는 네트워크 관리자가 수동으로 할당하는 방식이며, 유동 IP 주소는 특정 서버가 IP 주소 범위에 따라 동적으로 할당하는 방식이다.

유동 IP 주소는 DHCP(Dynamic Host Configuration Protocol) 프로토콜을 통해 주소를 제공하는 서버와 주소를 할당받는 클라이언트로 구성되며, IP 주소를 임대하는 형태를 취한다. (예: 와이파이)

1. DHCP Discover: DHCP 클라이언트에서 DHCP 서버를 찾는 메시지
2. DHCP Offer: DHCP 서버에서 할당할 IP 주소와 임대 시간을 알리는 메시지
3. DHCP Request: DHCP 클라이언트에서 DHCP 서버로 할당받을 IP 주소를 요청하는 메시지(브로드 캐스팅)
4. DHCP Ack: DHCP 서버에서 최종적으로 할당할 IP 주소 승인을 알리는 메시지

### 서브넷과 서브넷 마스크

![image](https://github.com/user-attachments/assets/717d303c-e66d-414d-8bfc-67f733e8b154)

서브넷은 부분 네트워크를 의미하며, 다양한 서브넷이 연결되어 거대한 네트워크 환경을 이루고 있다. 서브넷을 구분하고 식별할 때 사용하는 것이 서브넷 마스크이다. 

서브넷 마스크는 IP 주소와 동일한 32비트 구조에 네트워크 ID와 호스트 ID로 구성되어 있다.

- 네트워크 ID: 서브넷을 구분하는 기준 값
- 호스트 ID: 동일 서브넷 내에서 대상을 구분하는 기준 값

10.1.0.0.0/8과 같은 형태로 표현하는 방식을 IP CIDR(Classless Inter Domain Routing) 표기법이라고 한다. 일반적으로 IP CIDR 표기법으로 서브넷 마스크를 표현한다. 

## 라우팅과 라우터

라우팅은 네트워킹 통신을 수행할 때 목적지 경로를 선택하는 작업을 의미하며, 이를 수행하는 장비를 라우터라고한다. 라우터는 라우팅 테이블이라는 서브넷의 걍로 리스트를 가지고 목적지 네트워크에 대한 최적의 경로를 선택해서 전달하는 역할을 한다. 

## TCP와 UDP

OSI 7계층의 전송 계층에서 사용하는 프로토콜에는 대표적으로 TCP(Transmissio Control Protocol)와 UDP(User Diagram Protocol)가 있으며, 데이터 전송을 담당한다.

### TCP

TCP는 송수신 대상 간 연결을 맺고 데이터 전송 여부를 하나씩 확인하며 전송하는 연결형 프로토콜로, 신뢰성 있는 데이터 전송을 보장한다. 전송 속도는 느리며, 속도보다 안정적인 데이터 전송을 보장하는 응용 서비스에 활용된다. 

### UDP

UDP는 TCP와 반대로 송수신 대상 간 연결 없이 전달하는 비연결형 프로토콜이다. 연결이나 제어를 위한 작업이 없어 신뢰성 있는 전송을 보장할 수는 없지만, 빠르게 데이터를 전송할 수 있다. 데이터 유실에 큰 지장이 없고 빠른 데이터 전송을 위한 응용 서비스에 활용된다.

| 구분 | TCP | UDP |
| --- | --- | --- |
| OSI 7계층 | 전송 계층 | 전송 계층 |
| 연결성 | 연결 프로토콜 | 비연결 프로토콜 |
| 신뢰성 | 높음 | 낮음 |
| 제어 | 혼잡 제어, 흐름 제어 | 제어에 관여하지 않음 |
| 속도 | 느림 | 빠름 |
| 주요 서비스 | HTTP, SSH 등 | DNS, DHCP 등 |

### 포트 번호

TCP와 UDP를 사용하는 응용 서비스는 서로 구분할 수 있도록 포트 번호를 사용한다. 포트 번호는 IANA(Internet Assigned Numbers Authority)라는 인터넷 할당 번호 관리 기관에서 정의한다. 예를 들어 HTTP 프로토콜은 TCP 80번 포트 사용, DNS 서비스는 UDP 53번 포트를 사용한다.

<aside>
💡

잘 알려진 포트 번호(well-known port): 0 ~ 1023

등록된 포트 번호(registered port): 1024 ~ 49151

동적 포트(Dynamic port): 49152 ~ 65535

</aside>
